{"id":"mzLp","dependencies":[{"name":"C:\\Users\\anton\\OneDrive\\Рабочий стол\\MyFiles\\Мои проекты на курсах HTML  ACADEMY\\Мои проекты на курсах HTML  ACADEMY\\JS projects\\Kekstagram\\1370879-kekstagram-22\\package.json","includedInParent":true,"mtime":1642425807770},{"name":"./render-big-picture.js","loc":{"line":1,"column":27},"parent":"C:\\Users\\anton\\OneDrive\\Рабочий стол\\MyFiles\\Мои проекты на курсах HTML  ACADEMY\\Мои проекты на курсах HTML  ACADEMY\\JS projects\\Kekstagram\\1370879-kekstagram-22\\js\\user-miniature.js","resolved":"C:\\Users\\anton\\OneDrive\\Рабочий стол\\MyFiles\\Мои проекты на курсах HTML  ACADEMY\\Мои проекты на курсах HTML  ACADEMY\\JS projects\\Kekstagram\\1370879-kekstagram-22\\js\\render-big-picture.js"},{"name":"./api.js","loc":{"line":2,"column":22},"parent":"C:\\Users\\anton\\OneDrive\\Рабочий стол\\MyFiles\\Мои проекты на курсах HTML  ACADEMY\\Мои проекты на курсах HTML  ACADEMY\\JS projects\\Kekstagram\\1370879-kekstagram-22\\js\\user-miniature.js","resolved":"C:\\Users\\anton\\OneDrive\\Рабочий стол\\MyFiles\\Мои проекты на курсах HTML  ACADEMY\\Мои проекты на курсах HTML  ACADEMY\\JS projects\\Kekstagram\\1370879-kekstagram-22\\js\\api.js"},{"name":"./util.js","loc":{"line":3,"column":40},"parent":"C:\\Users\\anton\\OneDrive\\Рабочий стол\\MyFiles\\Мои проекты на курсах HTML  ACADEMY\\Мои проекты на курсах HTML  ACADEMY\\JS projects\\Kekstagram\\1370879-kekstagram-22\\js\\user-miniature.js","resolved":"C:\\Users\\anton\\OneDrive\\Рабочий стол\\MyFiles\\Мои проекты на курсах HTML  ACADEMY\\Мои проекты на курсах HTML  ACADEMY\\JS projects\\Kekstagram\\1370879-kekstagram-22\\js\\util.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.templateFragment=void 0;var e=n(require(\"./render-big-picture.js\")),t=require(\"./api.js\"),r=require(\"./util.js\");function n(e){return e&&e.__esModule?e:{default:e}}var c=10,i=500,o=document.querySelector(\".pictures\"),u=document.querySelector(\"#picture\").content.querySelector(\".picture\");exports.templateFragment=u;var l=document.querySelector(\".img-filters\"),s=document.querySelector(\".img-filters__form\"),a=function(t){var r=t.url,n=t.comments,c=t.likes,i=u.cloneNode(!0),o=i.querySelector(\".picture__comments\"),l=i.querySelector(\".picture__likes\");return i.querySelector(\".picture__img\").src=\"./\".concat(r),o.textContent=n.length,l.textContent=c,i.addEventListener(\"click\",function(){(0,e.default)({url:r,comments:n,likes:c})}),i},d=function(e){var t=document.createDocumentFragment();e.forEach(function(e){t.appendChild(a(e))}),o.appendChild(t)},f=function(){var e=o.querySelectorAll(\".picture\");e&&e.forEach(function(e){e.remove()})},m=[],p={\"filter-default\":function(){return m.slice()},\"filter-random\":function(){return(0,r.shuffleArray)(m.slice()).slice(0,c)},\"filter-discussed\":function(){return m.slice().sort(function(e,t){return e.comments.length-t.comments.length}).reverse()}},v=(0,r.getDebounce)(function(e){if(!e.target.classList.contains(\"img-filters__button--active\")){for(var t=0;t<s.children.length;t++)s.children[t].classList.remove(\"img-filters__button--active\");e.target.classList.add(\"img-filters__button--active\"),f(),d(p[e.target.id]())}},i),g=function(){(0,t.request)(function(e){m=e.slice(),d(m),l.classList.remove(\"img-filters--inactive\"),s.addEventListener(\"click\",v)},function(){var e=document.querySelector(\"#errorFetch\").content.cloneNode(!0);document.body.appendChild(e)},\"GET\")};g();"},"sourceMaps":{"js":{"mappings":[{"source":"js/user-miniature.js","original":{"line":83,"column":16},"generated":{"line":1,"column":0}},{"source":"js/user-miniature.js","original":{"line":83,"column":16},"generated":{"line":1,"column":13}},{"source":"js/user-miniature.js","original":{"line":83,"column":16},"generated":{"line":1,"column":20}},{"source":"js/user-miniature.js","original":{"line":83,"column":16},"generated":{"line":1,"column":35}},{"source":"js/user-miniature.js","original":{"line":83,"column":16},"generated":{"line":1,"column":43}},{"source":"js/user-miniature.js","original":{"line":83,"column":16},"generated":{"line":1,"column":56}},{"source":"js/user-miniature.js","original":{"line":83,"column":16},"generated":{"line":1,"column":57}},{"source":"js/user-miniature.js","original":{"line":83,"column":16},"generated":{"line":1,"column":64}},{"source":"js/user-miniature.js","original":{"line":83,"column":16},"generated":{"line":1,"column":68}},{"source":"js/user-miniature.js","original":{"line":83,"column":16},"generated":{"line":1,"column":76}},{"source":"js/user-miniature.js","original":{"line":83,"column":16},"generated":{"line":1,"column":98}},{"source":"js/user-miniature.js","original":{"line":1,"column":0},"generated":{"line":1,"column":100}},{"source":"js/user-miniature.js","original":{"line":1,"column":0},"generated":{"line":1,"column":104}},{"source":"js/user-miniature.js","original":{"line":1,"column":0},"generated":{"line":1,"column":106}},{"source":"js/user-miniature.js","original":{"line":1,"column":0},"generated":{"line":1,"column":108}},{"source":"js/user-miniature.js","original":{"line":1,"column":0},"generated":{"line":1,"column":116}},{"source":"js/user-miniature.js","original":{"line":2,"column":0},"generated":{"line":1,"column":144}},{"source":"js/user-miniature.js","original":{"line":2,"column":0},"generated":{"line":1,"column":146}},{"source":"js/user-miniature.js","original":{"line":2,"column":0},"generated":{"line":1,"column":154}},{"source":"js/user-miniature.js","original":{"line":3,"column":0},"generated":{"line":1,"column":166}},{"source":"js/user-miniature.js","original":{"line":3,"column":0},"generated":{"line":1,"column":168}},{"source":"js/user-miniature.js","original":{"line":3,"column":0},"generated":{"line":1,"column":176}},{"source":"js/user-miniature.js","original":{"line":83,"column":16},"generated":{"line":1,"column":189}},{"source":"js/user-miniature.js","original":{"line":83,"column":16},"generated":{"line":1,"column":198}},{"source":"js/user-miniature.js","original":{"line":83,"column":16},"generated":{"line":1,"column":200}},{"source":"js/user-miniature.js","original":{"line":83,"column":16},"generated":{"line":1,"column":203}},{"source":"js/user-miniature.js","original":{"line":83,"column":16},"generated":{"line":1,"column":210}},{"source":"js/user-miniature.js","original":{"line":83,"column":16},"generated":{"line":1,"column":213}},{"source":"js/user-miniature.js","original":{"line":83,"column":16},"generated":{"line":1,"column":215}},{"source":"js/user-miniature.js","original":{"line":83,"column":16},"generated":{"line":1,"column":226}},{"source":"js/user-miniature.js","original":{"line":83,"column":16},"generated":{"line":1,"column":228}},{"source":"js/user-miniature.js","original":{"line":83,"column":16},"generated":{"line":1,"column":229}},{"source":"js/user-miniature.js","original":{"line":83,"column":16},"generated":{"line":1,"column":237}},{"source":"js/user-miniature.js","original":{"line":5,"column":0},"generated":{"line":1,"column":240}},{"source":"js/user-miniature.js","name":"RANDOM_PHOTO_QUANTITY","original":{"line":5,"column":6},"generated":{"line":1,"column":244}},{"source":"js/user-miniature.js","original":{"line":5,"column":30},"generated":{"line":1,"column":246}},{"source":"js/user-miniature.js","name":"RERENDER_DELAY","original":{"line":6,"column":6},"generated":{"line":1,"column":249}},{"source":"js/user-miniature.js","original":{"line":6,"column":23},"generated":{"line":1,"column":251}},{"source":"js/user-miniature.js","name":"userPictures","original":{"line":7,"column":6},"generated":{"line":1,"column":255}},{"source":"js/user-miniature.js","name":"document","original":{"line":7,"column":21},"generated":{"line":1,"column":257}},{"source":"js/user-miniature.js","name":"querySelector","original":{"line":7,"column":30},"generated":{"line":1,"column":266}},{"source":"js/user-miniature.js","original":{"line":7,"column":44},"generated":{"line":1,"column":280}},{"source":"js/user-miniature.js","name":"templateFragment","original":{"line":8,"column":6},"generated":{"line":1,"column":293}},{"source":"js/user-miniature.js","name":"document","original":{"line":8,"column":25},"generated":{"line":1,"column":295}},{"source":"js/user-miniature.js","name":"querySelector","original":{"line":8,"column":34},"generated":{"line":1,"column":304}},{"source":"js/user-miniature.js","original":{"line":8,"column":48},"generated":{"line":1,"column":318}},{"source":"js/user-miniature.js","name":"content","original":{"line":8,"column":60},"generated":{"line":1,"column":330}},{"source":"js/user-miniature.js","name":"querySelector","original":{"line":8,"column":68},"generated":{"line":1,"column":338}},{"source":"js/user-miniature.js","original":{"line":8,"column":82},"generated":{"line":1,"column":352}},{"source":"js/user-miniature.js","original":{"line":83,"column":16},"generated":{"line":1,"column":364}},{"source":"js/user-miniature.js","original":{"line":83,"column":16},"generated":{"line":1,"column":372}},{"source":"js/user-miniature.js","original":{"line":83,"column":16},"generated":{"line":1,"column":389}},{"source":"js/user-miniature.js","original":{"line":9,"column":0},"generated":{"line":1,"column":391}},{"source":"js/user-miniature.js","name":"imgFilter","original":{"line":9,"column":6},"generated":{"line":1,"column":395}},{"source":"js/user-miniature.js","name":"document","original":{"line":9,"column":18},"generated":{"line":1,"column":397}},{"source":"js/user-miniature.js","name":"querySelector","original":{"line":9,"column":27},"generated":{"line":1,"column":406}},{"source":"js/user-miniature.js","original":{"line":9,"column":41},"generated":{"line":1,"column":420}},{"source":"js/user-miniature.js","name":"filterForm","original":{"line":10,"column":6},"generated":{"line":1,"column":436}},{"source":"js/user-miniature.js","name":"document","original":{"line":10,"column":19},"generated":{"line":1,"column":438}},{"source":"js/user-miniature.js","name":"querySelector","original":{"line":10,"column":28},"generated":{"line":1,"column":447}},{"source":"js/user-miniature.js","original":{"line":10,"column":42},"generated":{"line":1,"column":461}},{"source":"js/user-miniature.js","name":"renderUserImage","original":{"line":12,"column":6},"generated":{"line":1,"column":483}},{"source":"js/user-miniature.js","original":{"line":12,"column":24},"generated":{"line":1,"column":485}},{"source":"js/user-miniature.js","original":{"line":12,"column":52},"generated":{"line":1,"column":494}},{"source":"js/user-miniature.js","name":"url","original":{"line":12,"column":26},"generated":{"line":1,"column":497}},{"source":"js/user-miniature.js","name":"url","original":{"line":12,"column":26},"generated":{"line":1,"column":501}},{"source":"js/user-miniature.js","name":"url","original":{"line":12,"column":26},"generated":{"line":1,"column":503}},{"source":"js/user-miniature.js","name":"url","original":{"line":12,"column":26},"generated":{"line":1,"column":505}},{"source":"js/user-miniature.js","name":"comments","original":{"line":12,"column":31},"generated":{"line":1,"column":509}},{"source":"js/user-miniature.js","name":"comments","original":{"line":12,"column":31},"generated":{"line":1,"column":511}},{"source":"js/user-miniature.js","name":"comments","original":{"line":12,"column":31},"generated":{"line":1,"column":513}},{"source":"js/user-miniature.js","name":"likes","original":{"line":12,"column":41},"generated":{"line":1,"column":522}},{"source":"js/user-miniature.js","name":"likes","original":{"line":12,"column":41},"generated":{"line":1,"column":524}},{"source":"js/user-miniature.js","name":"likes","original":{"line":12,"column":41},"generated":{"line":1,"column":526}},{"source":"js/user-miniature.js","name":"userImage","original":{"line":13,"column":8},"generated":{"line":1,"column":532}},{"source":"js/user-miniature.js","name":"templateFragment","original":{"line":13,"column":20},"generated":{"line":1,"column":534}},{"source":"js/user-miniature.js","name":"cloneNode","original":{"line":13,"column":37},"generated":{"line":1,"column":536}},{"source":"js/user-miniature.js","original":{"line":13,"column":47},"generated":{"line":1,"column":547}},{"source":"js/user-miniature.js","name":"userComments","original":{"line":14,"column":8},"generated":{"line":1,"column":550}},{"source":"js/user-miniature.js","name":"userImage","original":{"line":14,"column":23},"generated":{"line":1,"column":552}},{"source":"js/user-miniature.js","name":"querySelector","original":{"line":14,"column":33},"generated":{"line":1,"column":554}},{"source":"js/user-miniature.js","original":{"line":14,"column":47},"generated":{"line":1,"column":568}},{"source":"js/user-miniature.js","name":"userLikes","original":{"line":15,"column":8},"generated":{"line":1,"column":590}},{"source":"js/user-miniature.js","name":"userImage","original":{"line":15,"column":20},"generated":{"line":1,"column":592}},{"source":"js/user-miniature.js","name":"querySelector","original":{"line":15,"column":30},"generated":{"line":1,"column":594}},{"source":"js/user-miniature.js","original":{"line":15,"column":44},"generated":{"line":1,"column":608}},{"source":"js/user-miniature.js","name":"userImage","original":{"line":24,"column":9},"generated":{"line":1,"column":627}},{"source":"js/user-miniature.js","name":"userImage","original":{"line":16,"column":2},"generated":{"line":1,"column":634}},{"source":"js/user-miniature.js","name":"querySelector","original":{"line":16,"column":12},"generated":{"line":1,"column":636}},{"source":"js/user-miniature.js","original":{"line":16,"column":26},"generated":{"line":1,"column":650}},{"source":"js/user-miniature.js","name":"src","original":{"line":16,"column":43},"generated":{"line":1,"column":667}},{"source":"js/user-miniature.js","name":"url","original":{"line":16,"column":54},"generated":{"line":1,"column":671}},{"source":"js/user-miniature.js","name":"url","original":{"line":16,"column":54},"generated":{"line":1,"column":676}},{"source":"js/user-miniature.js","name":"url","original":{"line":16,"column":54},"generated":{"line":1,"column":683}},{"source":"js/user-miniature.js","name":"userComments","original":{"line":17,"column":2},"generated":{"line":1,"column":686}},{"source":"js/user-miniature.js","name":"textContent","original":{"line":17,"column":15},"generated":{"line":1,"column":688}},{"source":"js/user-miniature.js","name":"comments","original":{"line":17,"column":29},"generated":{"line":1,"column":700}},{"source":"js/user-miniature.js","name":"length","original":{"line":17,"column":38},"generated":{"line":1,"column":702}},{"source":"js/user-miniature.js","name":"userLikes","original":{"line":18,"column":2},"generated":{"line":1,"column":709}},{"source":"js/user-miniature.js","name":"textContent","original":{"line":18,"column":12},"generated":{"line":1,"column":711}},{"source":"js/user-miniature.js","name":"likes","original":{"line":18,"column":26},"generated":{"line":1,"column":723}},{"source":"js/user-miniature.js","name":"userImage","original":{"line":20,"column":2},"generated":{"line":1,"column":725}},{"source":"js/user-miniature.js","name":"addEventListener","original":{"line":20,"column":12},"generated":{"line":1,"column":727}},{"source":"js/user-miniature.js","original":{"line":20,"column":29},"generated":{"line":1,"column":744}},{"source":"js/user-miniature.js","original":{"line":20,"column":38},"generated":{"line":1,"column":752}},{"source":"js/user-miniature.js","original":{"line":21,"column":19},"generated":{"line":1,"column":764}},{"source":"js/user-miniature.js","original":{"line":21,"column":19},"generated":{"line":1,"column":766}},{"source":"js/user-miniature.js","original":{"line":21,"column":19},"generated":{"line":1,"column":768}},{"source":"js/user-miniature.js","original":{"line":21,"column":19},"generated":{"line":1,"column":777}},{"source":"js/user-miniature.js","name":"url","original":{"line":21,"column":20},"generated":{"line":1,"column":778}},{"source":"js/user-miniature.js","name":"url","original":{"line":21,"column":20},"generated":{"line":1,"column":782}},{"source":"js/user-miniature.js","name":"comments","original":{"line":21,"column":25},"generated":{"line":1,"column":784}},{"source":"js/user-miniature.js","name":"comments","original":{"line":21,"column":25},"generated":{"line":1,"column":793}},{"source":"js/user-miniature.js","name":"likes","original":{"line":21,"column":35},"generated":{"line":1,"column":795}},{"source":"js/user-miniature.js","name":"likes","original":{"line":21,"column":35},"generated":{"line":1,"column":801}},{"source":"js/user-miniature.js","name":"userImage","original":{"line":24,"column":9},"generated":{"line":1,"column":807}},{"source":"js/user-miniature.js","name":"renderPhotos","original":{"line":27,"column":6},"generated":{"line":1,"column":810}},{"source":"js/user-miniature.js","original":{"line":27,"column":21},"generated":{"line":1,"column":812}},{"source":"js/user-miniature.js","name":"data","original":{"line":27,"column":22},"generated":{"line":1,"column":821}},{"source":"js/user-miniature.js","name":"fragment","original":{"line":28,"column":6},"generated":{"line":1,"column":824}},{"source":"js/user-miniature.js","name":"fragment","original":{"line":28,"column":6},"generated":{"line":1,"column":828}},{"source":"js/user-miniature.js","name":"document","original":{"line":28,"column":17},"generated":{"line":1,"column":830}},{"source":"js/user-miniature.js","name":"createDocumentFragment","original":{"line":28,"column":26},"generated":{"line":1,"column":839}},{"source":"js/user-miniature.js","name":"data","original":{"line":29,"column":2},"generated":{"line":1,"column":864}},{"source":"js/user-miniature.js","name":"forEach","original":{"line":29,"column":7},"generated":{"line":1,"column":866}},{"source":"js/user-miniature.js","original":{"line":29,"column":15},"generated":{"line":1,"column":874}},{"source":"js/user-miniature.js","name":"item","original":{"line":29,"column":16},"generated":{"line":1,"column":883}},{"source":"js/user-miniature.js","name":"fragment","original":{"line":30,"column":4},"generated":{"line":1,"column":886}},{"source":"js/user-miniature.js","name":"appendChild","original":{"line":30,"column":13},"generated":{"line":1,"column":888}},{"source":"js/user-miniature.js","name":"renderUserImage","original":{"line":30,"column":25},"generated":{"line":1,"column":900}},{"source":"js/user-miniature.js","name":"item","original":{"line":30,"column":41},"generated":{"line":1,"column":902}},{"source":"js/user-miniature.js","name":"userPictures","original":{"line":33,"column":2},"generated":{"line":1,"column":908}},{"source":"js/user-miniature.js","name":"appendChild","original":{"line":33,"column":15},"generated":{"line":1,"column":910}},{"source":"js/user-miniature.js","name":"fragment","original":{"line":33,"column":27},"generated":{"line":1,"column":922}},{"source":"js/user-miniature.js","name":"removePhotos","original":{"line":36,"column":6},"generated":{"line":1,"column":926}},{"source":"js/user-miniature.js","original":{"line":36,"column":21},"generated":{"line":1,"column":928}},{"source":"js/user-miniature.js","name":"pictures","original":{"line":37,"column":8},"generated":{"line":1,"column":939}},{"source":"js/user-miniature.js","name":"pictures","original":{"line":37,"column":8},"generated":{"line":1,"column":943}},{"source":"js/user-miniature.js","name":"userPictures","original":{"line":37,"column":19},"generated":{"line":1,"column":945}},{"source":"js/user-miniature.js","name":"querySelectorAll","original":{"line":37,"column":32},"generated":{"line":1,"column":947}},{"source":"js/user-miniature.js","original":{"line":37,"column":49},"generated":{"line":1,"column":964}},{"source":"js/user-miniature.js","name":"pictures","original":{"line":38,"column":6},"generated":{"line":1,"column":976}},{"source":"js/user-miniature.js","name":"pictures","original":{"line":39,"column":4},"generated":{"line":1,"column":979}},{"source":"js/user-miniature.js","name":"forEach","original":{"line":39,"column":13},"generated":{"line":1,"column":981}},{"source":"js/user-miniature.js","original":{"line":39,"column":21},"generated":{"line":1,"column":989}},{"source":"js/user-miniature.js","name":"photo","original":{"line":39,"column":22},"generated":{"line":1,"column":998}},{"source":"js/user-miniature.js","name":"photo","original":{"line":40,"column":6},"generated":{"line":1,"column":1001}},{"source":"js/user-miniature.js","name":"remove","original":{"line":40,"column":12},"generated":{"line":1,"column":1003}},{"source":"js/user-miniature.js","name":"photos","original":{"line":45,"column":4},"generated":{"line":1,"column":1015}},{"source":"js/user-miniature.js","original":{"line":45,"column":13},"generated":{"line":1,"column":1017}},{"source":"js/user-miniature.js","name":"filters","original":{"line":47,"column":6},"generated":{"line":1,"column":1020}},{"source":"js/user-miniature.js","original":{"line":47,"column":16},"generated":{"line":1,"column":1022}},{"source":"js/user-miniature.js","original":{"line":48,"column":20},"generated":{"line":1,"column":1023}},{"source":"js/user-miniature.js","original":{"line":48,"column":20},"generated":{"line":1,"column":1040}},{"source":"js/user-miniature.js","name":"photos","original":{"line":49,"column":11},"generated":{"line":1,"column":1051}},{"source":"js/user-miniature.js","name":"photos","original":{"line":49,"column":11},"generated":{"line":1,"column":1058}},{"source":"js/user-miniature.js","name":"slice","original":{"line":49,"column":18},"generated":{"line":1,"column":1060}},{"source":"js/user-miniature.js","original":{"line":51,"column":19},"generated":{"line":1,"column":1069}},{"source":"js/user-miniature.js","original":{"line":51,"column":19},"generated":{"line":1,"column":1085}},{"source":"js/user-miniature.js","original":{"line":52,"column":11},"generated":{"line":1,"column":1096}},{"source":"js/user-miniature.js","original":{"line":52,"column":11},"generated":{"line":1,"column":1103}},{"source":"js/user-miniature.js","name":"photos","original":{"line":52,"column":24},"generated":{"line":1,"column":1105}},{"source":"js/user-miniature.js","name":"photos","original":{"line":52,"column":24},"generated":{"line":1,"column":1107}},{"source":"js/user-miniature.js","name":"photos","original":{"line":52,"column":24},"generated":{"line":1,"column":1121}},{"source":"js/user-miniature.js","name":"slice","original":{"line":52,"column":31},"generated":{"line":1,"column":1123}},{"source":"js/user-miniature.js","name":"slice","original":{"line":52,"column":40},"generated":{"line":1,"column":1132}},{"source":"js/user-miniature.js","original":{"line":52,"column":46},"generated":{"line":1,"column":1138}},{"source":"js/user-miniature.js","name":"RANDOM_PHOTO_QUANTITY","original":{"line":52,"column":49},"generated":{"line":1,"column":1140}},{"source":"js/user-miniature.js","original":{"line":54,"column":22},"generated":{"line":1,"column":1144}},{"source":"js/user-miniature.js","original":{"line":54,"column":22},"generated":{"line":1,"column":1163}},{"source":"js/user-miniature.js","name":"photos","original":{"line":55,"column":11},"generated":{"line":1,"column":1174}},{"source":"js/user-miniature.js","name":"photos","original":{"line":55,"column":11},"generated":{"line":1,"column":1181}},{"source":"js/user-miniature.js","name":"slice","original":{"line":55,"column":18},"generated":{"line":1,"column":1183}},{"source":"js/user-miniature.js","name":"sort","original":{"line":55,"column":26},"generated":{"line":1,"column":1191}},{"source":"js/user-miniature.js","original":{"line":55,"column":31},"generated":{"line":1,"column":1196}},{"source":"js/user-miniature.js","name":"a","original":{"line":55,"column":32},"generated":{"line":1,"column":1205}},{"source":"js/user-miniature.js","name":"b","original":{"line":55,"column":35},"generated":{"line":1,"column":1207}},{"source":"js/user-miniature.js","name":"a","original":{"line":55,"column":41},"generated":{"line":1,"column":1210}},{"source":"js/user-miniature.js","name":"a","original":{"line":55,"column":41},"generated":{"line":1,"column":1217}},{"source":"js/user-miniature.js","name":"comments","original":{"line":55,"column":43},"generated":{"line":1,"column":1219}},{"source":"js/user-miniature.js","name":"length","original":{"line":55,"column":52},"generated":{"line":1,"column":1228}},{"source":"js/user-miniature.js","name":"b","original":{"line":55,"column":61},"generated":{"line":1,"column":1235}},{"source":"js/user-miniature.js","name":"comments","original":{"line":55,"column":63},"generated":{"line":1,"column":1237}},{"source":"js/user-miniature.js","name":"length","original":{"line":55,"column":72},"generated":{"line":1,"column":1246}},{"source":"js/user-miniature.js","name":"reverse","original":{"line":55,"column":80},"generated":{"line":1,"column":1255}},{"source":"js/user-miniature.js","name":"clickOnFilterForm","original":{"line":59,"column":6},"generated":{"line":1,"column":1267}},{"source":"js/user-miniature.js","original":{"line":59,"column":26},"generated":{"line":1,"column":1270}},{"source":"js/user-miniature.js","original":{"line":59,"column":38},"generated":{"line":1,"column":1272}},{"source":"js/user-miniature.js","original":{"line":59,"column":38},"generated":{"line":1,"column":1274}},{"source":"js/user-miniature.js","original":{"line":59,"column":38},"generated":{"line":1,"column":1287}},{"source":"js/user-miniature.js","name":"evt","original":{"line":59,"column":39},"generated":{"line":1,"column":1296}},{"source":"js/user-miniature.js","original":{"line":60,"column":6},"generated":{"line":1,"column":1299}},{"source":"js/user-miniature.js","name":"evt","original":{"line":60,"column":7},"generated":{"line":1,"column":1303}},{"source":"js/user-miniature.js","name":"target","original":{"line":60,"column":11},"generated":{"line":1,"column":1305}},{"source":"js/user-miniature.js","name":"classList","original":{"line":60,"column":18},"generated":{"line":1,"column":1312}},{"source":"js/user-miniature.js","name":"contains","original":{"line":60,"column":28},"generated":{"line":1,"column":1322}},{"source":"js/user-miniature.js","original":{"line":60,"column":37},"generated":{"line":1,"column":1331}},{"source":"js/user-miniature.js","original":{"line":60,"column":69},"generated":{"line":1,"column":1362}},{"source":"js/user-miniature.js","original":{"line":61,"column":9},"generated":{"line":1,"column":1363}},{"source":"js/user-miniature.js","original":{"line":61,"column":9},"generated":{"line":1,"column":1367}},{"source":"js/user-miniature.js","name":"i","original":{"line":61,"column":13},"generated":{"line":1,"column":1371}},{"source":"js/user-miniature.js","original":{"line":61,"column":17},"generated":{"line":1,"column":1373}},{"source":"js/user-miniature.js","name":"i","original":{"line":61,"column":20},"generated":{"line":1,"column":1375}},{"source":"js/user-miniature.js","name":"filterForm","original":{"line":61,"column":24},"generated":{"line":1,"column":1377}},{"source":"js/user-miniature.js","name":"children","original":{"line":61,"column":35},"generated":{"line":1,"column":1379}},{"source":"js/user-miniature.js","name":"length","original":{"line":61,"column":44},"generated":{"line":1,"column":1388}},{"source":"js/user-miniature.js","name":"i","original":{"line":61,"column":52},"generated":{"line":1,"column":1395}},{"source":"js/user-miniature.js","name":"filterForm","original":{"line":62,"column":6},"generated":{"line":1,"column":1399}},{"source":"js/user-miniature.js","name":"children","original":{"line":62,"column":17},"generated":{"line":1,"column":1401}},{"source":"js/user-miniature.js","name":"i","original":{"line":62,"column":26},"generated":{"line":1,"column":1410}},{"source":"js/user-miniature.js","name":"classList","original":{"line":62,"column":29},"generated":{"line":1,"column":1413}},{"source":"js/user-miniature.js","name":"remove","original":{"line":62,"column":39},"generated":{"line":1,"column":1423}},{"source":"js/user-miniature.js","original":{"line":62,"column":46},"generated":{"line":1,"column":1430}},{"source":"js/user-miniature.js","name":"evt","original":{"line":64,"column":4},"generated":{"line":1,"column":1461}},{"source":"js/user-miniature.js","name":"target","original":{"line":64,"column":8},"generated":{"line":1,"column":1463}},{"source":"js/user-miniature.js","name":"classList","original":{"line":64,"column":15},"generated":{"line":1,"column":1470}},{"source":"js/user-miniature.js","name":"add","original":{"line":64,"column":25},"generated":{"line":1,"column":1480}},{"source":"js/user-miniature.js","original":{"line":64,"column":29},"generated":{"line":1,"column":1484}},{"source":"js/user-miniature.js","name":"removePhotos","original":{"line":65,"column":4},"generated":{"line":1,"column":1515}},{"source":"js/user-miniature.js","name":"renderPhotos","original":{"line":66,"column":4},"generated":{"line":1,"column":1519}},{"source":"js/user-miniature.js","name":"filters","original":{"line":66,"column":17},"generated":{"line":1,"column":1521}},{"source":"js/user-miniature.js","name":"evt","original":{"line":66,"column":25},"generated":{"line":1,"column":1523}},{"source":"js/user-miniature.js","name":"target","original":{"line":66,"column":29},"generated":{"line":1,"column":1525}},{"source":"js/user-miniature.js","name":"id","original":{"line":66,"column":36},"generated":{"line":1,"column":1532}},{"source":"js/user-miniature.js","name":"RERENDER_DELAY","original":{"line":68,"column":3},"generated":{"line":1,"column":1541}},{"source":"js/user-miniature.js","name":"renderUserImages","original":{"line":70,"column":6},"generated":{"line":1,"column":1544}},{"source":"js/user-miniature.js","original":{"line":70,"column":25},"generated":{"line":1,"column":1546}},{"source":"js/user-miniature.js","original":{"line":71,"column":10},"generated":{"line":1,"column":1558}},{"source":"js/user-miniature.js","original":{"line":71,"column":10},"generated":{"line":1,"column":1560}},{"source":"js/user-miniature.js","original":{"line":71,"column":10},"generated":{"line":1,"column":1562}},{"source":"js/user-miniature.js","original":{"line":71,"column":10},"generated":{"line":1,"column":1571}},{"source":"js/user-miniature.js","name":"data","original":{"line":71,"column":11},"generated":{"line":1,"column":1580}},{"source":"js/user-miniature.js","name":"photos","original":{"line":72,"column":4},"generated":{"line":1,"column":1583}},{"source":"js/user-miniature.js","name":"data","original":{"line":72,"column":13},"generated":{"line":1,"column":1585}},{"source":"js/user-miniature.js","name":"slice","original":{"line":72,"column":18},"generated":{"line":1,"column":1587}},{"source":"js/user-miniature.js","name":"renderPhotos","original":{"line":73,"column":4},"generated":{"line":1,"column":1595}},{"source":"js/user-miniature.js","name":"photos","original":{"line":73,"column":17},"generated":{"line":1,"column":1597}},{"source":"js/user-miniature.js","name":"imgFilter","original":{"line":74,"column":4},"generated":{"line":1,"column":1600}},{"source":"js/user-miniature.js","name":"classList","original":{"line":74,"column":14},"generated":{"line":1,"column":1602}},{"source":"js/user-miniature.js","name":"remove","original":{"line":74,"column":24},"generated":{"line":1,"column":1612}},{"source":"js/user-miniature.js","original":{"line":74,"column":31},"generated":{"line":1,"column":1619}},{"source":"js/user-miniature.js","name":"filterForm","original":{"line":75,"column":4},"generated":{"line":1,"column":1644}},{"source":"js/user-miniature.js","name":"addEventListener","original":{"line":75,"column":15},"generated":{"line":1,"column":1646}},{"source":"js/user-miniature.js","original":{"line":75,"column":32},"generated":{"line":1,"column":1663}},{"source":"js/user-miniature.js","name":"clickOnFilterForm","original":{"line":75,"column":41},"generated":{"line":1,"column":1671}},{"source":"js/user-miniature.js","original":{"line":76,"column":5},"generated":{"line":1,"column":1675}},{"source":"js/user-miniature.js","name":"errorFetchTemplate","original":{"line":77,"column":10},"generated":{"line":1,"column":1686}},{"source":"js/user-miniature.js","name":"errorFetchBlock","original":{"line":78,"column":10},"generated":{"line":1,"column":1690}},{"source":"js/user-miniature.js","name":"document","original":{"line":77,"column":31},"generated":{"line":1,"column":1692}},{"source":"js/user-miniature.js","name":"querySelector","original":{"line":77,"column":40},"generated":{"line":1,"column":1701}},{"source":"js/user-miniature.js","original":{"line":77,"column":54},"generated":{"line":1,"column":1715}},{"source":"js/user-miniature.js","name":"content","original":{"line":77,"column":69},"generated":{"line":1,"column":1730}},{"source":"js/user-miniature.js","name":"cloneNode","original":{"line":78,"column":47},"generated":{"line":1,"column":1738}},{"source":"js/user-miniature.js","original":{"line":78,"column":57},"generated":{"line":1,"column":1749}},{"source":"js/user-miniature.js","name":"document","original":{"line":79,"column":4},"generated":{"line":1,"column":1752}},{"source":"js/user-miniature.js","name":"body","original":{"line":79,"column":13},"generated":{"line":1,"column":1761}},{"source":"js/user-miniature.js","name":"appendChild","original":{"line":79,"column":18},"generated":{"line":1,"column":1766}},{"source":"js/user-miniature.js","name":"errorFetchBlock","original":{"line":79,"column":30},"generated":{"line":1,"column":1778}},{"source":"js/user-miniature.js","original":{"line":80,"column":5},"generated":{"line":1,"column":1782}},{"source":"js/user-miniature.js","name":"renderUserImages","original":{"line":83,"column":0},"generated":{"line":1,"column":1790}}],"sources":{"js/user-miniature.js":"import openBigPicture from './render-big-picture.js';\nimport {request} from './api.js';\nimport {getDebounce, shuffleArray} from './util.js';\n\nconst RANDOM_PHOTO_QUANTITY = 10;\nconst RERENDER_DELAY = 500;\nconst userPictures = document.querySelector('.pictures');\nconst templateFragment = document.querySelector('#picture').content.querySelector('.picture');\nconst imgFilter = document.querySelector('.img-filters');\nconst filterForm = document.querySelector('.img-filters__form');\n\nconst renderUserImage = ({url, comments, likes}) => {\n  const userImage = templateFragment.cloneNode(true);\n  const userComments = userImage.querySelector('.picture__comments');\n  const userLikes = userImage.querySelector('.picture__likes');\n  userImage.querySelector('.picture__img').src = `./${url}`;\n  userComments.textContent = comments.length;\n  userLikes.textContent = likes;\n\n  userImage.addEventListener('click', () => {\n    openBigPicture({url, comments, likes});\n  });\n\n  return userImage;\n}\n\nconst renderPhotos = (data) => {\n  let fragment = document.createDocumentFragment();\n  data.forEach((item) => {\n    fragment.appendChild(renderUserImage(item));\n  });\n\n  userPictures.appendChild(fragment);\n}\n\nconst removePhotos = () => {\n  const pictures = userPictures.querySelectorAll('.picture');\n  if (pictures) {\n    pictures.forEach((photo) => {\n      photo.remove()\n    })\n  }\n}\n\nlet photos = [];\n\nconst filters = {\n  'filter-default': () => {\n    return photos.slice()\n  },\n  'filter-random': () => {\n    return shuffleArray(photos.slice()).slice(0, RANDOM_PHOTO_QUANTITY)\n  },\n  'filter-discussed': () => {\n    return photos.slice().sort((a, b) => a.comments.length - b.comments.length).reverse();\n  },\n}\n\nconst clickOnFilterForm = getDebounce((evt) => {\n  if (!evt.target.classList.contains('img-filters__button--active')) {\n    for (let i = 0; i < filterForm.children.length; i++) {\n      filterForm.children[i].classList.remove('img-filters__button--active');\n    }\n    evt.target.classList.add('img-filters__button--active');\n    removePhotos();\n    renderPhotos(filters[evt.target.id]());\n  }\n}, RERENDER_DELAY);\n\nconst renderUserImages = () => {\n  request((data) => {\n    photos = data.slice();\n    renderPhotos(photos)\n    imgFilter.classList.remove('img-filters--inactive');\n    filterForm.addEventListener('click', clickOnFilterForm);\n  }, () => {\n    const errorFetchTemplate = document.querySelector('#errorFetch').content;\n    const errorFetchBlock = errorFetchTemplate.cloneNode(true);\n    document.body.appendChild(errorFetchBlock);\n  }, 'GET');\n}\n\nrenderUserImages();\n\nexport {templateFragment};\n"},"lineCount":null}},"error":null,"hash":"93d2ace1d1b7b8e6c98e3eed19a5462e","cacheData":{"env":{}}}